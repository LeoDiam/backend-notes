# 线程进程傻傻分不清？这篇文章帮你搞掂

什么是进程？什么是线程？他们有什么关系？现实中有什么用？

<img src="https://user-gold-cdn.xitu.io/2020/3/29/17126a0d249073aa?w=300&amp;h=300&amp;f=png&amp;s=32245" style="zoom: 67%;" />

关于以上问题，这篇文章为你解答。进程和线程属于非常基础以及重要的概念，为以后学习分布式以及并行程序有着极其重要的作用。

文章包含以下内容：

1. 并发与并行
2. 进程与线程
3. Java 中线程演示示例


## 并发与并行

<img src="https://user-gold-cdn.xitu.io/2020/3/29/17126a43b380315e?w=600&h=451&f=png&s=95686" align = center style="zoom: 100%;" />


先来说**并发 Concurrent**

举个栗子，首先看图的上半部分（笔者也是咖啡因重度依赖者）

有且仅有一个咖啡机，有一堆顾客想要吗买咖啡，他们分成了两条队伍，一会先让 A 队伍买咖啡，一会让 B 队伍买咖啡，轮流交替进行。每次只能一条队伍买咖啡。

这样做有什么劣势呢？比如当 A 队伍买咖啡时，一名顾客突然肚子不舒服，得去方便方便，那么这时候排在后面的顾客必须等他回来才能继续（另一条队伍也需要等待），显然，效率很低。况且，只有一台咖啡机，两条队伍（多条队伍）排队时间无疑很长。

就像单核CPU，当我们边听课边打游戏时，多个任务**交替进行**。只是交替速度非常之快，我们几乎察觉不到。

用学术用语来讲，

**在操作系统中，并发是指一个时间段中有几个程序都处于已启动运行到运行完毕之间，且这几个程序都是在同一个处理机上运行，但任一个时刻点上只有一个程序在处理机上运行。**



再来讲讲 **并行 Parallel**

看到图的下半部分，此时有两台咖啡机，两条队伍，每条队伍分别对应一个咖啡机，互不干扰，**同时执行**。

这样效率显然提高了。

并行的概念在我们生活中并不遥远，举 MBP （MacBook Pro）的例子，

![](https://user-gold-cdn.xitu.io/2020/3/29/17126c9615fe77b5?w=1919&h=712&f=png&s=229406)
可以发现，现在苹果笔记本的顶配都已去到 8核 CPU，可见得速度有多么快！


## 进程与线程

首先先举个栗子。



<img src="https://user-gold-cdn.xitu.io/2020/3/30/17128ee1a1a00d4b?w=599&amp;h=480&amp;f=png&amp;s=777182" align=center style="zoom: 67%;" />



我们在日常上网冲浪时，会开各种软件，比如说边开网易云音乐听歌啊，边敲论文，顺便还看着爱奇艺。



**进程，就是内存中运行的应用程序，从开启到结束的一次进行过程。**



我们可以查看自己的任务管理器，查看当前的进程 （不会查看的请戳这里 [如何打开任务管理器]([https://zh.wikihow.com/%E6%89%93%E5%BC%80%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%99%A8](https://zh.wikihow.com/打开任务管理器))）



<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20200330102022723.png" alt="image-20200330102022723" align=center style="zoom: 67%;" />





由图可看出，目前进程有 6 个





对进程有着基本的概念之后，再来看看什么是**线程**：

先举个形象的例子，

我们知道，CPU 是计算机的核心，若把 CPU 比作是一个工厂，那么进程就是工厂的每个车间。



每个车间（进程）都有着自己不同的工作。

那么线程就好比是车间（进程）里面的工人，一个车间（进程）至少有一名工人（线程），当然可以有多个工人（线程）。



<img src="https://www.ruanyifeng.com/blogimg/asset/201304/bg2013042404.jpg" alt="img" align=center style="zoom: 50%;" />



简而言之，**一个程序执行后至少一个进程，一个进程可以有多个线程。**



## 参考资料

1.  进程与线程的一个简单解释 https://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html