# IP 协议

Table of Contents
-----------------

* [1. 什么是 IP 协议?](#1-什么是-ip-协议)
* [3. 什么是 IP 地址?](#3-什么是-ip-地址)
* [4. IP 作用之一: 寻址](#4-ip-作用之一-寻址)
* [5. IP 作用之二: 路由](#5-ip-作用之二-路由)
* [6. IP 作用之三: 分包 / 组包](#6-ip-作用之三-分包--组包)




## 1. 什么是 IP 协议?

`IP` 协议是网络层的协议，主要负责将数据包发送给最终目标计算机，即 “端对端” 的传输

<div align="center"> <img src="image-20201008155021544.png" width="70%"/> </div><br>



网络层的下一层是数据链路层，数据链路层只负责一种数据链路的节点之间进行包传递，而一旦跨越多种数据链路，就需要借助网络层了



举个例子，小明要去小王家（小明在广州，小王在上海），要经过地铁，飞机，磁悬浮列车三种交通工具。

网络层协议就相当于行程表，记录了线路换乘的详细信息

而数据链路层只负责当前区间的行程，例如：地铁 或 飞机 或 磁悬浮列车

<div align="center"> <img src="image-20201008165921254.png" width="70%"/> </div><br>





## 3. 什么是 IP 地址?

<div align="center"> <img src="image-20201008170653495.png" width="70%"/> </div><br>

`IP` 地址用于在连接到网络中的所有主机中识别出进行通信的目标地址（在数据链路层中，我们用 `MAC` 地址进行标识）



那为什么有了 `MAC` 地址来唯一标识网络设备的地址，还需要 `IP` 地址?

这部分稍后进行讨论





## 4. 如何定义 IP 地址?

<div align="center"> <img src="ipv4.jpg" width="50%"/> </div><br>

`IP` 地址（`IPv4`）由 32 位正整数来表示。



**IP 地址 = 网络标识（网络地址） + 主机标识（主机地址）**



那什么是网络标识以及主机标识？

网络标识在数据链路中的每个段配置不同的值，而主机标识则不允许在同一个网段内重复出现



举个例子，网络标识就好比你的厂牌，主机标识就代表你在厂牌的称号 / 编号






<div align="center"> <img src="image-20201008204857986.png" width="70%"/> </div><br>





那么，究竟前面几位是网络标识，而后面哪几位是主机标识？

我们以 **子网掩码** 区分



















## 5. IP 作用之一: 寻址







## 6. IP 作用之二: 路由











## 7. IP 作用之三: 分包 / 组包













