# TCP / UDP

Table of Contents
-----------------

* [前言](#前言)
* [1. 什么是 UDP?](#1-什么是-udp)
* [2. 既然 UDP 面向无连接, 那有何应用场景?](#2-既然-udp-面向无连接-那有何应用场景)
* [3. 什么是 TCP?](#3-什么是-tcp)



## 前言

**传输层的作用是让应用程序之间实现通信 / 为运行在不同主机上的进程之间提供了逻辑通信**



其中，有两个著名的协议：`TCP` 和 `UDP`



结合图，举个例子

以包裹为例，邮递员（`IP`）根据收件人地址（目标 `IP` 地址）向目的地（计算机）投递包裹（`IP` 数据报）。包裹达到目的地以后由对方（传输层协议）根据包裹信息判断最终的接受人（接收端应用程序）

<div align="center"> <img src="image-20201010151157630.png" width="60%"/> </div><br>

## 1. 什么是 UDP?

`UDP` 全称：User Datagram Protocol

`UDP` 不提供复杂的控制机制，利用 `IP` 提供面向无连接的通信服务。且它是将应用程序发来的数据在收到的那一刻，立即按照原样发送到网络上的一种机制（确保发送信息大小，但不确保信息一定到达）



## 2. 既然 UDP 面向无连接, 那有何应用场景?

1. 包总量较小的通信（`DNS`）
2. 即时通信（视频 / 音频）
3. 广播通信（广播, 多播）



## 3. 什么是 TCP?

`TCP` 全称：Transmission Control Protocol

`TCP` 功能十分强悍，充分实现了数据传输时各种控制功能

丢包怎么办？（数据传输过程丢失），`TCP` 有重发机制

分包次序错乱怎么办？`TCP` 可以进行顺序控制

除此之外，`TCP` 面向有连接，只有在确认通信对端存在时才会发送数据，从而可以控制通信流量的浪费



## 4. TCP 有何特点（来保证可靠传输）?

`TCP` 有以下特点：

- 检验和
- 序列号
- 确认应答
- 重发控制
- 连接管理
- 窗口控制







## 5. ACK 确认应答

<div align="center"> <img src="image-20201010163511531.png" width="50%"/> </div><br>

“你懂了吗？”

”我懂了“



在 `TCP` 中，当发送端的数据达到接收主机时，接收端主机会返回一个已收到消息的通知，称为确认应答 `ACK`





## 6. 序列号







<div align="center"> <img src="image-20201010164445368.png" width="50%"/> </div><br>

